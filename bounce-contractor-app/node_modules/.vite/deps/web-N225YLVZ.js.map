{
  "version": 3,
  "sources": ["../../capacitor-secure-storage-plugin/src/web.ts"],
  "sourcesContent": ["import { WebPlugin } from '@capacitor/core';\nimport type { SecureStoragePluginPlugin } from './definitions';\n\nexport class SecureStoragePluginWeb\n  extends WebPlugin\n  implements SecureStoragePluginPlugin {\n  PREFIX = 'cap_sec_';\n\n  get(options: { key: string }): Promise<{ value: string }> {\n    const value = localStorage.getItem(this.addPrefix(options.key));\n    return value !== null\n      ? Promise.resolve({\n          value: atob(value),\n        })\n      : Promise.reject('Item with given key does not exist');\n  }\n  set(options: { key: string; value: string }): Promise<{ value: boolean }> {\n    localStorage.setItem(this.addPrefix(options.key), btoa(options.value));\n    return Promise.resolve({ value: true });\n  }\n  remove(options: { key: string }): Promise<{ value: boolean }> {\n    if (localStorage.getItem(this.addPrefix(options.key))) {\n      localStorage.removeItem(this.addPrefix(options.key));\n      return Promise.resolve({ value: true });\n    } else {\n      return Promise.reject('Item with given key does not exist');\n    }\n  }\n  clear(): Promise<{ value: boolean }> {\n    for (const key in localStorage) {\n      if (key.indexOf(this.PREFIX) === 0) {\n        localStorage.removeItem(key);\n      }\n    }\n    return Promise.resolve({ value: true });\n  }\n  keys(): Promise<{ value: string[] }> {\n    const keys = Object.keys(localStorage)\n      .filter(k => k.indexOf(this.PREFIX) === 0)\n      .map(this.removePrefix);\n    return Promise.resolve({ value: keys });\n  }\n\n  getPlatform(): Promise<{ value: string }> {\n    return Promise.resolve({ value: 'web' });\n  }\n\n  private addPrefix = (key: string) => this.PREFIX + key;\n  private removePrefix = (key: string) => key.replace(this.PREFIX, '');\n}\n"],
  "mappings": ";;;;;;AAGM,IAAO,yBAAP,cACI,UAAS;EADnB,cAAA;;AAGE,SAAA,SAAS;AAyCD,SAAA,YAAY,CAAC,QAAgB,KAAK,SAAS;AAC3C,SAAA,eAAe,CAAC,QAAgB,IAAI,QAAQ,KAAK,QAAQ,EAAE;EACrE;EAzCE,IAAI,SAAwB;AAC1B,UAAM,QAAQ,aAAa,QAAQ,KAAK,UAAU,QAAQ,GAAG,CAAC;AAC9D,WAAO,UAAU,OACb,QAAQ,QAAQ;MACd,OAAO,KAAK,KAAK;KAClB,IACD,QAAQ,OAAO,oCAAoC;EACzD;EACA,IAAI,SAAuC;AACzC,iBAAa,QAAQ,KAAK,UAAU,QAAQ,GAAG,GAAG,KAAK,QAAQ,KAAK,CAAC;AACrE,WAAO,QAAQ,QAAQ,EAAE,OAAO,KAAI,CAAE;EACxC;EACA,OAAO,SAAwB;AAC7B,QAAI,aAAa,QAAQ,KAAK,UAAU,QAAQ,GAAG,CAAC,GAAG;AACrD,mBAAa,WAAW,KAAK,UAAU,QAAQ,GAAG,CAAC;AACnD,aAAO,QAAQ,QAAQ,EAAE,OAAO,KAAI,CAAE;WACjC;AACL,aAAO,QAAQ,OAAO,oCAAoC;;EAE9D;EACA,QAAK;AACH,eAAW,OAAO,cAAc;AAC9B,UAAI,IAAI,QAAQ,KAAK,MAAM,MAAM,GAAG;AAClC,qBAAa,WAAW,GAAG;;;AAG/B,WAAO,QAAQ,QAAQ,EAAE,OAAO,KAAI,CAAE;EACxC;EACA,OAAI;AACF,UAAM,OAAO,OAAO,KAAK,YAAY,EAClC,OAAO,OAAK,EAAE,QAAQ,KAAK,MAAM,MAAM,CAAC,EACxC,IAAI,KAAK,YAAY;AACxB,WAAO,QAAQ,QAAQ,EAAE,OAAO,KAAI,CAAE;EACxC;EAEA,cAAW;AACT,WAAO,QAAQ,QAAQ,EAAE,OAAO,MAAK,CAAE;EACzC;;",
  "names": []
}
