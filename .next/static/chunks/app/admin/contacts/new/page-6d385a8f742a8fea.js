(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{7786:(e,s,a)=>{Promise.resolve().then(a.bind(a,7334))},6046:(e,s,a)=>{"use strict";var r=a(6658);a.o(r,"usePathname")&&a.d(s,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}})},7334:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var r=a(5155),n=a(2115),t=a(6046),c=a(9395),o=a(3406);function l(){let e=(0,t.useRouter)(),[s,a]=(0,n.useState)({bouncer:"",email:"",phone:"",partyDate:"",partyZipCode:"",message:"",confirmed:!1,tablesChairs:!1,generator:!1,popcornMachine:!1,cottonCandyMachine:!1,snowConeMachine:!1,overnight:!1,margaritaMachine:!1,slushyMachine:!1,sourcePage:"admin"}),[l,i]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),m=async a=>{a.preventDefault();try{i(!0);let a=localStorage.getItem("auth_token");if(!a){e.push("/login");return}let r=await fetch("".concat(o.J).concat(o.Q.CONTACTS),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)});if(401===r.status){localStorage.removeItem("auth_token"),e.push("/login");return}if(!r.ok)throw Error("Failed to create contact");e.push("/admin/contacts"),e.refresh()}catch(e){u(e instanceof Error?e.message:"Failed to create contact"),console.error("Error creating contact:",e)}finally{i(!1)}},h=e=>{let{name:s,value:r,type:n}=e.target;a(a=>({...a,[s]:"checkbox"===n?e.target.checked:r}))};return l?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,r.jsx)(c.k,{className:"w-8 h-8"})}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"New Contact Request"}),d&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 text-red-700 rounded-md",children:d}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Bouncer Name",(0,r.jsx)("input",{type:"text",name:"bouncer",value:s.bouncer,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Email",(0,r.jsx)("input",{type:"email",name:"email",value:s.email,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Phone",(0,r.jsx)("input",{type:"tel",name:"phone",value:s.phone,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Party Date",(0,r.jsx)("input",{type:"date",name:"partyDate",value:s.partyDate,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Party Zip Code",(0,r.jsx)("input",{type:"text",name:"partyZipCode",value:s.partyZipCode,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Status",(0,r.jsxs)("select",{name:"confirmed",value:s.confirmed.toString(),onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"false",children:"Pending"}),(0,r.jsx)("option",{value:"true",children:"Confirmed"})]})]})})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Message",(0,r.jsx)("textarea",{name:"message",value:s.message,onChange:h,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Additional Services"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"tablesChairs",checked:s.tablesChairs,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Tables & Chairs"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"generator",checked:s.generator,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Generator"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"popcornMachine",checked:s.popcornMachine,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Popcorn Machine"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"cottonCandyMachine",checked:s.cottonCandyMachine,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Cotton Candy Machine"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"snowConeMachine",checked:s.snowConeMachine,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Snow Cone Machine"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"margaritaMachine",checked:s.margaritaMachine,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Margarita Machine"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"slushyMachine",checked:s.slushyMachine,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Slushy Machine"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"overnight",checked:s.overnight,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Overnight"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l?(0,r.jsx)(c.k,{className:"w-5 h-5"}):"Create Contact"})]})]})]})}},9395:(e,s,a)=>{"use strict";a.d(s,{k:()=>n});var r=a(5155);function n(e){let{className:s="w-4 h-4"}=e;return(0,r.jsxs)("svg",{className:"animate-spin ".concat(s),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},3406:(e,s,a)=>{"use strict";a.d(s,{J:()=>r,Q:()=>n});let r="http://localhost:8080",n={PRODUCTS:"/api/v1/products",BLOGS:"/api/v1/blogs",USERS:"/api/v1/users",CONTACTS:"/api/v1/contacts"}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(7786)),_N_E=e.O()}]);